<meta charset="UTF-8">
<!DOCTYPE html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
		<link rel="stylesheet" type="text/css" href="board.css">
	</head>
	<body ng-app="myApp"  ng-controller="myCtrl">
		<div class="toolbar">
			<div class="dropdown">
				<button class="dropbtn">Tasks</button>
				<div class="dropdown-content">
					<a href="#">Link 1</a>
					<a href="#">Link 2</a>
					<a href="#">Link 3</a>
				</div>
			</div>
			<div class="dropdown">
				<button class="dropbtn">Projects</button>
				<div class="dropdown-content">
					<a href="#">My projects</a>
					<a href="#">Create project</a>
				</div>
			</div>
			<div class="dropdown">
				<button class="dropbtn">Messages</button>
			</div>
			<div class="dropdown">
				<button class="news-btn">News Feed</button>
			</div>
			<div class="dropdown">
				<button class="dropbtn">Board</button>
			</div>
			<div class="dropdown settings">
				<img class="profile" src="icon.png"/>
				<div class="dropdown-content">
					<a href="#">Settings</a>
					<a href="#">Logout</a>
				</div>
			</div>
		</div>
		<div class="bottom">
			<div class = "bottom-container">
				<!-- myWelcome -->
				<h3>
					<div ng-repeat="user in myWelcome">
							{{ user.postedBy.name }} : {{user.content}} 
					</div>
				</h3>

			</div>
		</div>
		<script>
			var app = angular.module('myApp', []);
			app.controller('myCtrl', function($scope, $http) {
			  $http({
				method : "GET",
				url : "http://boardsmarthack.azurewebsites.net/api/board"
			  }).then(function mySuccess(response) {
				  $scope.myWelcome = response.data; console.log(response.data);
				}, function myError(response) {
				  $scope.myWelcome = response.statusText;
				  $scope.reload();
				  $interval($scope.reload, 1000);
			  });
			});
			
		</script>
		
		
	</body>
</html>